{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{ConnectionProvider,WalletProvider}from'@solana/wallet-adapter-react/lib/cjs';import{PhantomWalletAdapter,SolflareWalletAdapter,SolletExtensionWalletAdapter,SolletWalletAdapter,TorusWalletAdapter}from'@solana/wallet-adapter-wallets';import{useCallback,useMemo}from'react';import{AutoConnectProvider,useAutoConnect}from\"./AutoConnectProvider\";import{notify}from\"../utils/notifications\";import{NetworkConfigurationProvider,useNetworkConfiguration}from\"./NetworkConfigurationProvider\";import dynamic from\"next/dynamic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReactUIWalletModalProviderDynamic=dynamic(_asyncToGenerator(function*(){return(yield import(\"@solana/wallet-adapter-react-ui\")).WalletModalProvider;}),{ssr:false});var WalletContextProvider=function WalletContextProvider(_ref2){var children=_ref2.children;var _useAutoConnect=useAutoConnect(),autoConnect=_useAutoConnect.autoConnect;var _useNetworkConfigurat=useNetworkConfiguration(),networkConfiguration=_useNetworkConfigurat.networkConfiguration;var network=networkConfiguration;var endpoint=\"https://rpc.helius.xyz/?api-key=8913a285-a5ef-4c35-8d80-03fb276eff2f\";console.log(network);var wallets=useMemo(function(){return[new PhantomWalletAdapter(),new SolflareWalletAdapter(),new SolletWalletAdapter({network:network}),new SolletExtensionWalletAdapter({network:network}),new TorusWalletAdapter()];},[network]);var onError=useCallback(function(error){notify({type:'error',message:error.message?error.name+\": \"+error.message:error.name});console.error(error);},[]);return _jsx(ConnectionProvider,{endpoint:endpoint,children:_jsx(WalletProvider,{wallets:wallets,onError:onError,autoConnect:autoConnect,children:_jsx(ReactUIWalletModalProviderDynamic,{children:children})})});};export var ContextProvider=function ContextProvider(_ref3){var children=_ref3.children;return _jsx(_Fragment,{children:_jsx(NetworkConfigurationProvider,{children:_jsx(AutoConnectProvider,{children:_jsx(WalletContextProvider,{children:children})})})});};","map":{"version":3,"names":["ConnectionProvider","WalletProvider","PhantomWalletAdapter","SolflareWalletAdapter","SolletExtensionWalletAdapter","SolletWalletAdapter","TorusWalletAdapter","useCallback","useMemo","AutoConnectProvider","useAutoConnect","notify","NetworkConfigurationProvider","useNetworkConfiguration","dynamic","ReactUIWalletModalProviderDynamic","WalletModalProvider","ssr","WalletContextProvider","children","autoConnect","networkConfiguration","network","endpoint","console","log","wallets","onError","error","type","message","name","ContextProvider"],"sources":["/home/stacc/dapp-scaffold/src/contexts/ContextProvider.tsx"],"sourcesContent":["import { WalletAdapterNetwork, WalletError } from '@solana/wallet-adapter-base';\nimport { ConnectionProvider, WalletProvider } from '@solana/wallet-adapter-react/lib/cjs';\nimport {\n    BackpackWalletAdapter,\n    PhantomWalletAdapter,\n    SolflareWalletAdapter,\n    SolletExtensionWalletAdapter,\n    SolletWalletAdapter,\n    TorusWalletAdapter,\n    // LedgerWalletAdapter,\n    // SlopeWalletAdapter,\n} from '@solana/wallet-adapter-wallets';\nimport { Cluster, clusterApiUrl } from '@solana/web3.js';\nimport { FC, ReactNode, useCallback, useMemo } from 'react';\nimport { AutoConnectProvider, useAutoConnect } from './AutoConnectProvider';\nimport { notify } from \"../utils/notifications\";\nimport { NetworkConfigurationProvider, useNetworkConfiguration } from './NetworkConfigurationProvider';\nimport dynamic from \"next/dynamic\";\n\ndeclare global {\n    interface Window {\n      xnft: any;\n    }\n  }\nconst ReactUIWalletModalProviderDynamic = dynamic(\n  async () =>\n    (await import(\"@solana/wallet-adapter-react-ui\")).WalletModalProvider,\n  { ssr: false }\n);\n\n\nconst WalletContextProvider: FC<{ children: ReactNode }> = ({ children }) => {\n    const { autoConnect } = useAutoConnect();\n    const { networkConfiguration } = useNetworkConfiguration();\n    const network = networkConfiguration as WalletAdapterNetwork;\n    const endpoint = \"https://rpc.helius.xyz/?api-key=8913a285-a5ef-4c35-8d80-03fb276eff2f\"\n\n    console.log(network);\n\n    const wallets = useMemo(\n        () => [\n            new PhantomWalletAdapter(),\n            new SolflareWalletAdapter(),\n            new SolletWalletAdapter({ network }),\n            new SolletExtensionWalletAdapter({ network }),\n            new TorusWalletAdapter(),\n            // new LedgerWalletAdapter(),\n            // new SlopeWalletAdapter(),\n            // new MathWalletAdapter(),\n            /* show me cool shit */\n\n            \n        ],\n        [network]\n    );\n        \n    const onError = useCallback(\n        (error: WalletError) => {\n            notify({ type: 'error', message: error.message ? `${error.name}: ${error.message}` : error.name });\n            console.error(error);\n        },\n        []\n    );\n\n    return (\n        // TODO: updates needed for updating and referencing endpoint: wallet adapter rework\n        <ConnectionProvider endpoint={endpoint}>\n            <WalletProvider wallets={wallets} onError={onError} autoConnect={autoConnect}>\n                <ReactUIWalletModalProviderDynamic>\n                    {children}\n                </ReactUIWalletModalProviderDynamic>\n\t\t\t</WalletProvider>\n        </ConnectionProvider>\n    );\n};\n\nexport const ContextProvider: FC<{ children: ReactNode }> = ({ children }) => {\n    return (\n        <>\n            <NetworkConfigurationProvider>\n                <AutoConnectProvider>\n                    <WalletContextProvider>{children}</WalletContextProvider>\n                </AutoConnectProvider>\n            </NetworkConfigurationProvider>\n        </>\n    );\n};\n"],"mappings":"uEACA,OAASA,kBAAkB,CAAEC,cAAc,KAAQ,sCAAsC,CACzF,OAEIC,oBAAoB,CACpBC,qBAAqB,CACrBC,4BAA4B,CAC5BC,mBAAmB,CACnBC,kBAAkB,KAGf,gCAAgC,CAEvC,OAAwBC,WAAW,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,mBAAmB,CAAEC,cAAc,6BAC5C,OAASC,MAAM,8BACf,OAASC,4BAA4B,CAAEC,uBAAuB,sCAC9D,MAAOC,QAAO,KAAM,cAAc,CAAC,gGAOnC,GAAMC,kCAAiC,CAAGD,OAAO,mBAC/C,kBACE,MAAO,OAAM,CAAC,iCAAiC,CAAC,EAAEE,mBAAmB,IACvE,CAAEC,GAAG,CAAE,KAAM,CAAC,CACf,CAGD,GAAMC,sBAAkD,CAAG,QAArDA,sBAAkD,OAAqB,IAAfC,SAAQ,OAARA,QAAQ,CAClE,oBAAwBT,cAAc,EAAE,CAAhCU,WAAW,iBAAXA,WAAW,CACnB,0BAAiCP,uBAAuB,EAAE,CAAlDQ,oBAAoB,uBAApBA,oBAAoB,CAC5B,GAAMC,QAAO,CAAGD,oBAA4C,CAC5D,GAAME,SAAQ,CAAG,sEAAsE,CAEvFC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC,CAEpB,GAAMI,QAAO,CAAGlB,OAAO,CACnB,iBAAM,CACF,GAAIN,qBAAoB,EAAE,CAC1B,GAAIC,sBAAqB,EAAE,CAC3B,GAAIE,oBAAmB,CAAC,CAAEiB,OAAO,CAAPA,OAAQ,CAAC,CAAC,CACpC,GAAIlB,6BAA4B,CAAC,CAAEkB,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAC7C,GAAIhB,mBAAkB,EAAE,CAO3B,GACD,CAACgB,OAAO,CAAC,CACZ,CAED,GAAMK,QAAO,CAAGpB,WAAW,CACvB,SAACqB,KAAkB,CAAK,CACpBjB,MAAM,CAAC,CAAEkB,IAAI,CAAE,OAAO,CAAEC,OAAO,CAAEF,KAAK,CAACE,OAAO,CAAMF,KAAK,CAACG,IAAI,MAAKH,KAAK,CAACE,OAAO,CAAKF,KAAK,CAACG,IAAK,CAAC,CAAC,CAClGP,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC,CACxB,CAAC,CACD,EAAE,CACL,CAED,MAEI,MAAC,kBAAkB,EAAC,QAAQ,CAAEL,QAAS,UACnC,KAAC,cAAc,EAAC,OAAO,CAAEG,OAAQ,CAAC,OAAO,CAAEC,OAAQ,CAAC,WAAW,CAAEP,WAAY,UACzE,KAAC,iCAAiC,WAC7BD,QAAQ,EACuB,EAChC,EACS,CAE7B,CAAC,CAED,MAAO,IAAMa,gBAA4C,CAAG,QAA/CA,gBAA4C,OAAqB,IAAfb,SAAQ,OAARA,QAAQ,CACnE,MACI,0BACI,KAAC,4BAA4B,WACzB,KAAC,mBAAmB,WAChB,KAAC,qBAAqB,WAAEA,QAAQ,EAAyB,EACvC,EACK,EAChC,CAEX,CAAC"},"metadata":{},"sourceType":"module"}