{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import{useEffect}from'react';import{CheckCircleIcon,InformationCircleIcon,XCircleIcon}from'@heroicons/react/outline';import{XIcon}from'@heroicons/react/solid';import useNotificationStore from\"../stores/useNotificationStore\";import{useConnection}from'@solana/wallet-adapter-react';import{useNetworkConfiguration}from\"../contexts/NetworkConfigurationProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NotificationList=function NotificationList(){var _useNotificationStore=useNotificationStore(function(s){return s;}),notifications=_useNotificationStore.notifications,setNotificationStore=_useNotificationStore.set;var reversedNotifications=_toConsumableArray(notifications).reverse();return _jsx(\"div\",{className:\"z-20 fixed inset-20 flex items-end px-4 py-6 pointer-events-none sm:p-6\",children:_jsx(\"div\",{className:\"flex flex-col w-full\",children:reversedNotifications.map(function(n,idx){return _jsx(Notification,{type:n.type,message:n.message,description:n.description,txid:n.txid,onHide:function onHide(){setNotificationStore(function(state){var reversedIndex=reversedNotifications.length-1-idx;state.notifications=[].concat(_toConsumableArray(notifications.slice(0,reversedIndex)),_toConsumableArray(notifications.slice(reversedIndex+1)));});}},\"\"+n.message+idx);})})});};var Notification=function Notification(_ref){var type=_ref.type,message=_ref.message,description=_ref.description,txid=_ref.txid,onHide=_ref.onHide;var _useConnection=useConnection(),connection=_useConnection.connection;var _useNetworkConfigurat=useNetworkConfiguration(),networkConfiguration=_useNetworkConfigurat.networkConfiguration;useEffect(function(){var id=setTimeout(function(){onHide();},8000);return function(){clearInterval(id);};},[onHide]);return _jsx(\"div\",{className:\"max-w-sm w-full bg-bkg-1 shadow-lg rounded-md mt-2 pointer-events-auto ring-1 ring-black ring-opacity-5 p-2 mx-4 mb-12 overflow-hidden\",children:_jsx(\"div\",{className:\"p-4\",children:_jsxs(\"div\",{className:\"flex items-center\",children:[_jsxs(\"div\",{className:\"flex-shrink-0\",children:[type==='success'?_jsx(CheckCircleIcon,{className:\"h-8 w-8 mr-1 text-green\"}):null,type==='info'&&_jsx(InformationCircleIcon,{className:\"h-8 w-8 mr-1 text-red\"}),type==='error'&&_jsx(XCircleIcon,{className:\"h-8 w-8 mr-1\"})]}),_jsxs(\"div\",{className:\"ml-2 w-0 flex-1\",children:[_jsx(\"div\",{className:\"font-bold text-fgd-1\",children:message}),description?_jsx(\"p\",{className:\"mt-0.5 text-sm text-fgd-2\",children:description}):null,txid?_jsx(\"div\",{className:\"flex flex-row\",children:_jsxs(\"a\",{href:'https://explorer.solana.com/tx/'+txid+(\"?cluster=\"+networkConfiguration),target:\"_blank\",rel:\"noreferrer\",className:\"flex flex-row link link-accent\",children:[_jsx(\"svg\",{className:\"flex-shrink-0 h-4 ml-2 mt-0.5 text-primary-light w-4\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"})}),_jsxs(\"div\",{className:\"flex mx-4\",children:[txid.slice(0,8),\"...\",txid.slice(txid.length-8)]})]})}):null]}),_jsx(\"div\",{className:\"ml-4 flex-shrink-0 self-start flex\",children:_jsxs(\"button\",{onClick:function onClick(){return onHide();},className:\"bg-bkg-2 default-transition rounded-md inline-flex text-fgd-3 hover:text-fgd-4 focus:outline-none\",children:[_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),_jsx(XIcon,{className:\"h-5 w-5\"})]})})]})})});};export default NotificationList;","map":{"version":3,"names":["useEffect","CheckCircleIcon","InformationCircleIcon","XCircleIcon","XIcon","useNotificationStore","useConnection","useNetworkConfiguration","NotificationList","s","notifications","setNotificationStore","set","reversedNotifications","reverse","map","n","idx","type","message","description","txid","state","reversedIndex","length","slice","Notification","onHide","connection","networkConfiguration","id","setTimeout","clearInterval"],"sources":["/home/stacc/dapp-scaffold/src/components/Notification.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport {\n  CheckCircleIcon,\n  InformationCircleIcon,\n  XCircleIcon,\n} from '@heroicons/react/outline'\nimport { XIcon } from '@heroicons/react/solid'\nimport useNotificationStore from '../stores/useNotificationStore'\nimport { useConnection } from '@solana/wallet-adapter-react';\nimport { getExplorerUrl } from '../utils/explorer'\nimport { useNetworkConfiguration } from '../contexts/NetworkConfigurationProvider';\n\nconst NotificationList = () => {\n  const { notifications, set: setNotificationStore } = useNotificationStore(\n    (s) => s\n  )\n\n  const reversedNotifications = [...notifications].reverse()\n\n  return (\n    <div\n      className={`z-20 fixed inset-20 flex items-end px-4 py-6 pointer-events-none sm:p-6`}\n    >\n      <div className={`flex flex-col w-full`}>\n        {reversedNotifications.map((n, idx) => (\n          <Notification\n            key={`${n.message}${idx}`}\n            type={n.type}\n            message={n.message}\n            description={n.description}\n            txid={n.txid}\n            onHide={() => {\n              setNotificationStore((state: any) => {\n                const reversedIndex = reversedNotifications.length - 1 - idx;\n                state.notifications = [\n                  ...notifications.slice(0, reversedIndex),\n                  ...notifications.slice(reversedIndex + 1),\n                ];\n              });\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst Notification = ({ type, message, description, txid, onHide }) => {\n  const { connection } = useConnection();\n  const { networkConfiguration } = useNetworkConfiguration();\n\n  // TODO: we dont have access to the network or endpoint here.. \n  // getExplorerUrl(connection., txid, 'tx')\n  // Either a provider, context, and or wallet adapter related pro/contx need updated\n\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      onHide()\n    }, 8000);\n\n    return () => {\n      clearInterval(id);\n    };\n  }, [onHide]);\n\n  return (\n    <div\n      className={`max-w-sm w-full bg-bkg-1 shadow-lg rounded-md mt-2 pointer-events-auto ring-1 ring-black ring-opacity-5 p-2 mx-4 mb-12 overflow-hidden`}\n    >\n      <div className={`p-4`}>\n        <div className={`flex items-center`}>\n          <div className={`flex-shrink-0`}>\n            {type === 'success' ? (\n              <CheckCircleIcon className={`h-8 w-8 mr-1 text-green`} />\n            ) : null}\n            {type === 'info' && <InformationCircleIcon className={`h-8 w-8 mr-1 text-red`} />}\n            {type === 'error' && (\n              <XCircleIcon className={`h-8 w-8 mr-1`} />\n            )}\n          </div>\n          <div className={`ml-2 w-0 flex-1`}>\n            <div className={`font-bold text-fgd-1`}>{message}</div>\n            {description ? (\n              <p className={`mt-0.5 text-sm text-fgd-2`}>{description}</p>\n            ) : null}\n            {txid ? (\n              <div className=\"flex flex-row\">\n         \n                <a\n                  href={'https://explorer.solana.com/tx/' + txid + `?cluster=${networkConfiguration}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"flex flex-row link link-accent\"\n                >\n                  <svg className=\"flex-shrink-0 h-4 ml-2 mt-0.5 text-primary-light w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" ><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"></path></svg>\n                  <div className=\"flex mx-4\">{txid.slice(0, 8)}...\n                    {txid.slice(txid.length - 8)}\n                  </div>\n                </a>\n              </div>\n            ) : null}\n          </div>\n          <div className={`ml-4 flex-shrink-0 self-start flex`}>\n            <button\n              onClick={() => onHide()}\n              className={`bg-bkg-2 default-transition rounded-md inline-flex text-fgd-3 hover:text-fgd-4 focus:outline-none`}\n            >\n              <span className={`sr-only`}>Close</span>\n              <XIcon className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NotificationList\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}